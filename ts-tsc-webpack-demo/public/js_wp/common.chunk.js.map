{"version":3,"sources":["webpack:///./src/Fib.ts","webpack:///./src/main.ts","webpack:///./src/test.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,8CAA8C,cAAc;AAC5D;AACA,mBAAmB,mBAAO,CAAC,wDAAY;AACvC;AACA;AACA,6BAA6B,SAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzEa;AACb,8CAA8C,cAAc;AAC5D,YAAY,mBAAO,CAAC,2BAAO;AAC3B,mBAAmB,mBAAO,CAAC,wDAAY;AACvC,QAAQ,mBAAO,CAAC,oDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACtBY;AACb,8CAA8C,cAAc;AAC5D,YAAY,mBAAO,CAAC,2BAAO;AAC3B,mBAAmB,mBAAO,CAAC,wDAAY;AACvC,QAAQ,mBAAO,CAAC,oDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC","file":"common.chunk.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Fib = void 0;\r\nvar Decimal_js_1 = require(\"Decimal.js\");\r\nvar Fib = /** @class */ (function () {\r\n    function Fib(beginVal, endVal, fix) {\r\n        if (fix === void 0) { fix = 2; }\r\n        this.fix = fix;\r\n        this.begin = new Decimal_js_1.Decimal(beginVal);\r\n        this.end = new Decimal_js_1.Decimal(endVal);\r\n        var _a = this.fibArr = Fib.toFib([beginVal, endVal]), heigh = _a[0], f191 = _a[1], f382 = _a[2], f5 = _a[3], f618 = _a[4], f809 = _a[5], low = _a[6];\r\n        var drirect = Fib.computeDriect(this.begin, this.end);\r\n        var region = Fib.computeRegion(heigh, low);\r\n        this.heigh = heigh;\r\n        this.f191 = f191;\r\n        this.f382 = f382;\r\n        this.f5 = f5;\r\n        this.f618 = f618;\r\n        this.f809 = f809;\r\n        this.low = low;\r\n        this.drirect = drirect;\r\n        this.region = region;\r\n        this.approachPrice = this.drirect == \"down\" /* DOWN */ ? this.f809 : this.f191;\r\n        this.stopProfit1Price = this.drirect == \"down\" /* DOWN */ ? this.f618 : this.f382;\r\n        this.stopProfit2Price = this.f5;\r\n        this.stopProfit3Price = this.drirect == \"down\" /* DOWN */ ? this.f382 : this.f618;\r\n        this.stopProfit4Price = this.drirect == \"down\" /* DOWN */ ? this.f191 : this.f809;\r\n        this.stopProfit5Price = this.drirect == \"down\" /* DOWN */ ? this.heigh : this.low;\r\n        this.stopLossPrice = this.drirect == \"down\" /* DOWN */ ? this.low : this.heigh;\r\n    }\r\n    Fib.toFib = function (arr) {\r\n        var heigh = new Decimal_js_1.Decimal(Math.max.apply(Math.max, arr));\r\n        var low = new Decimal_js_1.Decimal(Math.min.apply(Math.min, arr));\r\n        var region = Fib.computeRegion(heigh, low);\r\n        var f191 = heigh.minus(region.mul(0.191));\r\n        var f382 = heigh.minus(region.mul(0.382));\r\n        var f5 = heigh.minus(region.mul(0.5));\r\n        var f618 = heigh.minus(region.mul(0.618));\r\n        var f809 = heigh.minus(region.mul(0.809));\r\n        return [heigh, f191, f382, f5, f618, f809, low];\r\n    };\r\n    Fib.computeRegion = function (heigh, low) {\r\n        return heigh.minus(low);\r\n    };\r\n    Fib.computeDriect = function (heigh, low) {\r\n        var _a;\r\n        var drirect = \"up\" /* UP */;\r\n        if (heigh.lt(low)) {\r\n            _a = [low, heigh], heigh = _a[0], low = _a[1];\r\n            drirect = \"down\" /* DOWN */;\r\n        }\r\n        return drirect;\r\n    };\r\n    Fib.fixedNas = function (itVal, dr) {\r\n        var fix = 2;\r\n        var step = 25;\r\n        var arr = new Decimal_js_1.Decimal(itVal).toString().split(\".\");\r\n        var itemRound = new Decimal_js_1.Decimal(arr[0]);\r\n        var per = new Decimal_js_1.Decimal((arr[1] || \"0\").substr(0, fix));\r\n        if (per.mod(step).eq(0)) {\r\n            return itemRound.plus(\"0.\" + per.toString());\r\n        }\r\n        else {\r\n            var item = 1;\r\n            if (dr == Decimal_js_1.Decimal.ROUND_DOWN) {\r\n                item = 0;\r\n            }\r\n            var perItem = per.divToInt(step).plus(item).mul(0.25);\r\n            return itemRound.plus(perItem);\r\n        }\r\n    };\r\n    return Fib;\r\n}());\r\nexports.Fib = Fib;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Fib_1 = require(\"./Fib\");\r\nvar Decimal_js_1 = require(\"Decimal.js\");\r\nvar $ = require(\"jquery\");\r\n$(function () {\r\n    var it = new Fib_1.Fib(7832.5, 7911.75);\r\n    // console.log(Fib.toFib([\"11\", \"80\", \"222\"]))  \r\n    var approachPrice = Fib_1.Fib.fixedNas(it.approachPrice, Decimal_js_1.default.ROUND_UP);\r\n    var stopProfit1Price = Fib_1.Fib.fixedNas(it.stopProfit1Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit2Price = Fib_1.Fib.fixedNas(it.stopProfit2Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit3Price = Fib_1.Fib.fixedNas(it.stopProfit3Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit4Price = Fib_1.Fib.fixedNas(it.stopProfit4Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit5Price = Fib_1.Fib.fixedNas(it.stopProfit5Price, Decimal_js_1.default.ROUND_DOWN);\r\n    $(\"body\").prepend(\"<br/>\\n\");\r\n    $(\"body\").prepend(\"<br/>进场点位:\" + approachPrice);\r\n    $(\"body\").prepend(\"<br/>第一止盈点位:\" + stopProfit1Price);\r\n    $(\"body\").prepend(\"<br/>第二止盈点位:\" + stopProfit2Price);\r\n    $(\"body\").prepend(\"<br/>第三止盈点位:\" + stopProfit3Price);\r\n    $(\"body\").prepend(\"<br/>第四止盈点位:\" + stopProfit4Price);\r\n    $(\"body\").prepend(\"<br/>第五止盈点位:\" + stopProfit5Price);\r\n    $(\"body\").prepend(\"<br/>---------------------finished----------------------------\");\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Fib_1 = require(\"./Fib\");\r\nvar Decimal_js_1 = require(\"Decimal.js\");\r\nvar $ = require(\"jquery\");\r\n$(function () {\r\n    var it = new Fib_1.Fib(7832.5, 7911.75);\r\n    // console.log(Fib.toFib([\"11\", \"80\", \"222\"]))  \r\n    var approachPrice = Fib_1.Fib.fixedNas(it.approachPrice, Decimal_js_1.default.ROUND_UP);\r\n    var stopProfit1Price = Fib_1.Fib.fixedNas(it.stopProfit1Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit2Price = Fib_1.Fib.fixedNas(it.stopProfit2Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit3Price = Fib_1.Fib.fixedNas(it.stopProfit3Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit4Price = Fib_1.Fib.fixedNas(it.stopProfit4Price, Decimal_js_1.default.ROUND_DOWN);\r\n    var stopProfit5Price = Fib_1.Fib.fixedNas(it.stopProfit5Price, Decimal_js_1.default.ROUND_DOWN);\r\n    console.log(\"<br/>\\n\");\r\n    console.log(\"<br/>进场点位:\" + approachPrice);\r\n    console.log(\"<br/>第一止盈点位:\" + stopProfit1Price);\r\n    console.log(\"<br/>第二止盈点位:\" + stopProfit2Price);\r\n    console.log(\"<br/>第三止盈点位:\" + stopProfit3Price);\r\n    console.log(\"<br/>第四止盈点位:\" + stopProfit4Price);\r\n    console.log(\"<br/>第五止盈点位:\" + stopProfit5Price);\r\n    console.log(\"<br/>---------------------finished----------------------------\");\r\n});\r\n"],"sourceRoot":""}